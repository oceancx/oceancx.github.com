---
---

类通过一个默认的构造函数来控制默认初始化过程，
这个函数叫做默认构造函数。

如果类没有显式地定义构造函数，那么编译器就会为我们
隐式地定义一个默认构造函数。

编译器创建的构造函数又被成为合成的默认构造函数。

合成构造函数初始化类的规则：
1. 如果存在类内的初始值，用它来初始化成员。
2. 否则，默认初始化该成员。

## 某些类不能依赖于合成的默认构造函数

！只有当类没有什么任何构造函数时，编译器才会自动地生成默认构造函数

！如果类包含有内置类型或者复合类型的成员，则只有
当这些成员全都被赋予了类内的初始值时，这个类才适合于
使用合成的默认构造函数。


##构造函数负责类的初始化，类还需要控制
拷贝，赋值和销毁对象时发生的行为。

当定义一个类时，我们显式地或隐式地指定在此类型的对象
拷贝、移动、赋值和销毁时做什么。

一个类通过定义五种特殊的成员函数来控制这些操作。
包括：拷贝构造函数，拷贝赋值运算符，移动构造函数，移动赋值运算符，析构函数。
拷贝和移动构造函数定义了当用同类型的另一个对象初始化本对象时做什么。
拷贝和移动赋值运算符定义了将一个对象赋予同类型的另一个对象时做什么。
析构函数定义了当此类型对象销毁时做什么。
我们称这些操作为拷贝控制操作。

如果一个类没有定义所有这些拷贝控制函数，编译器会自动为它定义缺失的操作。
因此，很多类会忽略这些拷贝控制操作。
但是，对一些类来说，依赖这些操作的默认定义会导致灾难。
实现拷贝控制操作最困难的地方是首先认识到什么时候需要定义这些操作。

##合成拷贝构造函数

对某些类来说，合成拷贝构造函数用来阻止我们拷贝该类类型的对象。

每个成员的类型决定了它如何拷贝：
对类类型的成员，会使用其拷贝构造函数来拷贝；内置类型的成员则直接拷贝。
虽然我们不能直接拷贝一个数组，但合成拷贝构造函数会逐元素地拷贝一个数组类型的成员。
如果数组元素是类类型，则使用元素的拷贝构造函数来进行拷贝。

！拷贝初始化：使用 等号 = 初始化一个变量
！直接初始化：不使用等号

拷贝初始化发生情况：
1. 将一个对象作为实参传递给一个非引用类型的形参
2. 从一个返回类型为非引用类型的而函数返回一个对象
3. 用花括号列表初始化一个数组中的元素或一个聚合类中的成员


聚合类 struct{}定义的类



# 什么时候会调用析构函数

1. 变量在离开作用域时被销毁
2. 当一个对象被销毁时，其成员被销毁。
3. 容器被销毁，其元素被销毁
4. 对于动态分配的对象，当对指向它的指针应用delete运算符时被销毁
5. 对于临时对象，当创建它的完整表达式结束时被销毁。



